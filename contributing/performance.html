<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Performance &#8212; GGRC 0.10.35-Raspberry (f8c1d69) documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.10.35-Raspberry (f8c1d69)',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="GGRC 0.10.35-Raspberry (f8c1d69) documentation" href="../index.html" />
    <link rel="up" title="Contribution Guidelines" href="index.html" />
    <link rel="next" title="CSS and HTML" href="css_and_html.html" />
    <link rel="prev" title="Reviewing pull requests" href="git/reviewing_pull_requests.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="css_and_html.html" title="CSS and HTML"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git/reviewing_pull_requests.html" title="Reviewing pull requests"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">GGRC 0.10.35-Raspberry (f8c1d69) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Contribution Guidelines</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="performance">
<h1>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">Â¶</a></h1>
<p>When reviewing a pull request we must always check for potential performance issues and bottlenecks. Note that we should try to stick to these guidelines also when writing the code.</p>
<p>Here are a few general things we should pay attention to:</p>
<ul class="simple">
<li>Avoid searching for multiple items in a list. This can always be avoided by using a js object, or a python set or a python dict.</li>
<li>When working with multiple objects, preprocessing is a good way of simplifying and speeding up operations.</li>
</ul>
<p>For the frontend part:</p>
<ul class="simple">
<li>Avoid fetching data that is not needed<ul>
<li>Always first check the frontend cache if the data is available and only then fetch it from the backend. Note that in some cases the frontend cache should be avoided, such as, opening a modal window or opening an assessment info pane.</li>
<li>Check if the required data has already been sent with any of the other requests (assignees of an assessment are sent with the assessment and do not need to be fetched again.</li>
<li>When using the query API try to include all queries in a single request.</li>
</ul>
</li>
<li>Reduce the amount of data that is fetched. Some of these might need additional work on the backend, but mostly that will be less expensive than a full additional request. Examples would be:<ul>
<li>Avoid fetching entire objects to read a single property (fetching an Audit to get the audit folder)</li>
<li>Fetching the original snapshot object just to check if it exists.</li>
</ul>
</li>
</ul>
<p>For the backend part:</p>
<ul class="simple">
<li>Aim to have only constant number of sql queries for every request.</li>
<li>Check for proper use of eager query and index query.</li>
<li>Avoid fetching any data from database if ORM has already eagerly loaded it.</li>
<li>Avoid fetching too much data from database if it is not needed. That means to
manually write a query with deferred options and joined loads when possible.</li>
<li>Always take an entire request cycle into consideration. Optimizing one
smaller function at the expense of other functions needed to do the same work
but possibly multiple times may not be good. Any optimizations done must
affect the entire app performance in a positive way overall.</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="git/reviewing_pull_requests.html"
                        title="previous chapter">Reviewing pull requests</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="css_and_html.html"
                        title="next chapter">CSS and HTML</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/contributing/performance.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="css_and_html.html" title="CSS and HTML"
             >next</a> |</li>
        <li class="right" >
          <a href="git/reviewing_pull_requests.html" title="Reviewing pull requests"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">GGRC 0.10.35-Raspberry (f8c1d69) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Contribution Guidelines</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Google Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </body>
</html>